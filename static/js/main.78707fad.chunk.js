(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(34)},19:function(e,t,n){},21:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(10),r=n.n(o),l=(n(19),n(2)),c=n(3),s=n(5),d=n(4),u=n(6),p=(n(21),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.appGreenLight?null:i.a.createElement("div",{"aria-label":"page-not-ready-error-reload",className:"do_not_start_error"},i.a.createElement("p",{tabIndex:"0",className:"error_intro"},"Not this time! ***Please try again by reloading page.*** Curious? This is what we know..."),i.a.createElement("p",{tabIndex:"0",className:"error_message"}," ",this.props.message))}}]),t}(a.Component)),m=n(11),f=n.n(m);var h=function(e){return i.a.createElement("div",{className:"listing",tabIndex:"0",key:f.a.generate(),onClick:function(t){e.onFilteredTipListItemClick(e.name,t)},onKeyPress:function(t){e.onFilteredTipListItemClick(e.name,t)}},e.name)};var g=function(e){return i.a.createElement("div",{className:"list"},e.filteredTips.map(function(t){return i.a.createElement(h,{key:t.short_name_key,name:t.location_name,onFilteredTipListItemClick:e.onFilteredTipListItemClick})}))},w=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={},n.componentDidMount=function(){},n.handleFilterChange=function(e){n.props.onFilterChange(e.target.value)},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("nav",{className:"drawer, dark_blue",id:"drawer"},i.a.createElement("div",{className:"drawer-filter-options"},i.a.createElement("select",{tabIndex:"0",id:"drawer-filter-selector",name:"drawer-filter-selected-category",onChange:this.handleFilterChange},i.a.createElement("option",{tabIndex:"0",value:"all"},"All Categories"),i.a.createElement("option",{tabIndex:"0",value:"bbq"},"Eat BBQ"),i.a.createElement("option",{tabIndex:"0",value:"liv"},"Live Entertainment"),i.a.createElement("option",{tabIndex:"0",value:"mov"},"Watch a Movie"),i.a.createElement("option",{tabIndex:"0",value:"air"},"Where`s The Airport"))),i.a.createElement("ul",{id:"filtered-tip-list",className:"filtered-tip-list"},i.a.createElement(g,{filteredTips:this.props.filteredTips,onFilteredTipListItemClick:this.props.onFilteredTipListItemClick})))}}]),t}(a.Component),v=n(12),k=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"handleClick",value:function(e){document.querySelector("nav#drawer").classList.toggle("open"),e.stopPropagation()}},{key:"render",value:function(){return i.a.createElement("div",{className:"hamburger-title",onClick:this.handleClick},i.a.createElement(v.a,{tabIndex:"0",icon:"bars",color:"#099dd9",className:"hamburger",id:"hamburger-one",onClick:this.handleClick}),"dfwTips - Where to go!")}}]),t}(a.Component),b=function(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))},y=function(e){return e.json()};function C(e){return new window.google.maps.MarkerImage("http://chart.googleapis.com/chart?chst=d_map_spin&chld=1.15|0|"+e+"|40|_|%E2%80%A2",new window.google.maps.Size(21,34),new window.google.maps.Point(0,0),new window.google.maps.Point(10,34),new window.google.maps.Size(21,34))}var E=n(7),T=n(13);E.b.add(T.a);var I=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={message:"Nothing to say yet.",appGreenLight:!0,selectedFilterValue:"all",dfwTips:[],filteredTips:[],activeMarkerStack:[]},n.componentDidMount=function(){n.activeMarkerStack=[],n.infoContentStack=[],n.filteredTips=[],n.realFilterValue="all",fetch("https://rudimusmaximus.github.io/dfwTips/dfwTipsAPI.json").then(b).then(y).then(function(e){var t=Object.assign({},n.state,{dfwTips:e});n.setState(t);var a=new Promise(function(e,t){window.resolveGoogleMapsPromise=function(){e(window.google),delete window.resolveGoogleMapsPromise};var n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?&key=".concat("AIzaSyBQF4afYXb3lcv9KcI6BforUA1YfFBWank","&callback=resolveGoogleMapsPromise"),n.async=!0,document.body.appendChild(n)});Promise.all([a]).then(function(e){var t=e[0];n.google=t,window.initMapWithMarkers=n.initMapWithMarkers,n.initMapWithMarkers()})}).catch(function(e){n.setState(function(e){return{message:"Problem loading APIs"}}),n.setState(function(e){return{appGreenLight:!1}})})},n.onFilterChange=function(e){n.realFilterValue=e,n.setState(function(t){return{selectedFilterValue:e}}),n.initMapWithMarkers()},n.initMapWithMarkers=function(){n.activeMarkerStack=[],n.map=new window.google.maps.Map(document.getElementById("map"),{center:{lat:32.7603,lng:-97.047797},zoom:10,mapTypeControl:!1}),n.infoWindow=new window.google.maps.InfoWindow;var e=n.state.selectedFilterValue;e=n.realFilterValue,n.filteredTips=[],n.filteredTips="all"===e?n.state.dfwTips:n.state.dfwTips.filter(function(t){return t.short_cat_key===e});var t=Object.assign({},n.state,{filteredTips:n.filteredTips});n.setState(t),n.filteredTips.map(function(e){var t='<div aria-label="Info window for the listing just clicked on map or in filter list." id="content">\n              <div id="dfwTipsInfowindow">\n              <h1 tabIndex="0" id="firstHeading">'.concat(e.location_name,'</h1>\n              <div id="bodyContent">\n                <p tabIndex="0"><em>Our tip: </em>').concat(e.rudy_says_tip,'</p>\n                <p tabIndex="0"><em>Tell the driver: </em>').concat(e.address,'</p>\n                <a tabIndex="0" aria-label="search link" className = "search-link" href = "').concat(e.search_on_google,'"\n                >Google it now</a>\n              </div>\n            </div>'),a=C("0091ff"),i=C("FFFF24"),o=new window.google.maps.Marker({position:{lat:e.lat,lng:e.lng},map:n.map,title:e.location_name,animation:window.google.maps.Animation.DROP,icon:a,id:e.short_name_key});return n.activeMarkerStack.push(o),n.infoContentStack.push({id:o.id,contentString:t}),o.addListener("mouseover",function(){this.setIcon(i)}),o.addListener("mouseout",function(){this.setIcon(a)}),o.addListener("click",function(){n.infoWindow.setContent(t),n.infoWindow.open(n.map,o)}),null}),n.setState(function(e){return{activeMarkerStack:n.activeMarkerStack}})},n.onFilteredTipListItemClick=function(e,t){if(n.activeMarkerStack.length>0&&e){var a=n.activeMarkerStack.filter(function(t){return t.title===e})[0];window.google.maps.event.trigger(a,"click")}document.querySelector("nav#drawer").classList.toggle("open"),t.stopPropagation()},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"body-two"},i.a.createElement(w,{onFilterChange:this.onFilterChange,onFilteredTipListItemClick:this.onFilteredTipListItemClick,filteredTips:this.state.filteredTips,activeMarkerStack:this.activeMarkerStack||[],liveFilterCategory:this.state.selectedFilterValue}),i.a.createElement("main",{className:"main, light_blue"},i.a.createElement(p,{message:this.state.message,appGreenLight:this.state.appGreenLight}),i.a.createElement(k,null),i.a.createElement("div",{tabIndex:"0","aria-label":"locations-on-a-google-map",role:"application",id:"map"}," "),i.a.createElement("footer",{tabIndex:"0","aria-label":"footer-with-source-data-credits",className:"footer",id:"footer"},i.a.createElement("a",{className:"footer-link",href:"https://github.com/rudimusmaximus/dfwTips"},"featuring dfwTips"))))}}]),t}(a.Component),F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(i.a.createElement(I,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/FENDp7",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/FENDp7","/service-worker.js");F?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):M(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):M(t,e)})}}()}},[[14,2,1]]]);
//# sourceMappingURL=main.78707fad.chunk.js.map